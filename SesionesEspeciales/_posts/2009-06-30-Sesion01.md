---
layout: presentation
title: "Elementos de Estadística con R"
main-class: 'presentaciones'
permalink: /SesionEsp01
tags:

introduction: 
image: <img src="../../SesionesEspeciales/images/logo.png" alt="Rday" class="sticky">
header-includes:
   - \usepackage{amsmath,amssymb,amsthm,amsfonts}
   - \usepackage[sectionbib]{natbib}
   - \usepackage[hidelinks]{hyperref}
output:
  md_document:
    variant: markdown_strict+backtick_code_blocks+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash
    preserve_yaml: TRUE
always_allow_html: yes   
knit: (function(inputFile, encoding) {
  rmarkdown::render(inputFile, encoding = encoding,
  output_dir = "../SesionesEspeciales/_posts/", output_format = "all"  ) })
bibliography: "../referencias.bib"
csl: "../apa.csl"
link-citations: yes
---







Introducción
------------

La Estadística es una **herramienta** ampliamente utilizada en
diferentes disciplinas científicas, debido a su gran potencial para
**recolectar, analizar, interpretar, estimar y presentar** de forma
amigable, la información que se genera en las distintas áreas del
conocimiento, para así **poder argumentar y soportar de mejor manera las
investigaciones realizadas, y/o mejorar los resultados obtenidos en la
toma de decisiones**.

Adicionalmente, la estadística tiene como ventaja respecto a otras
áreas, que permite extraer información de **variables tanto númerida
como categórica** de la población de interés o de una muestra de la
misma, permitiendo al investigador establecer conclusiones acerca de la
misma población, o de alguno de los parámetros que la conforman. Y es
debido a ésto, que puede considerarse a la estadística como **uno de los
pilares fundamental** dentro de la investigación científica teórica y
aplicada.

En general, el análisis estadístico puede dividirse en dos partes:

-   La **Estadística descriptiva**, la cual se encarga de resumir la
    información suministrada mediante el empleo de tablas, gráficas y
    medidas numéricas, junto con el análisis de las mismas, para
    facilitar la interpretación y la presentación de la información.
-   La **Inferencia estadística**, la cual se encarga de la inferencias,
    modelamiento y predicción de la información, para facilitar la
    obtención de conclusiones y toma decisiones.

La estadística en políticas públicas
------------------------------------

**Las políticas públicas tienen como finalidad abordar problemas
sociales** que requieren de intervención desde el ámbito público, que
tienen como finalizad **gestionar planes, programas o proyectos que
permitan dar solución** de la mejor manera a dichos problemas.

Cada una las estrategias que buscan dar solución a los problemas
sociales, **requieren de un proceso de evaluación**, cuyo papel puede
ser igual o más importante que el objetivo mismo que se desea alcanzar.
Ésto debido a que, los proceso de evaluación **permiten analizar la
planificación** para retroalimentar el proceso de ejecución **a través
de la medición del impacto que generan las políticas** para la
comunidad. (Recchioni, [2016](#ref-Recchioni2016), p. 162)

**Es aquí donde el análisis estadísitico toma relevancia** dentro de las
políticas públicas, puesto que, ésta se emplea como una herramienta
indispensable en el análisis cualitativo o cuantitativo de información,
siendo dicho procedimiento, una parte escencial en el momento de diseñar
planes de evaluación de políticas.

Es debido a lo anterior que, **todo expertos en políticas públicas, debe
desarrollar una fuerte fundamentación en análisis de datos**, ya que
deben enfrentarse continuamente a problemas que requieren la tomar
decisiones, basandos en informes estadísticos descriptivos o
inferenciales, que tiene por finalidad apoyar la formulación,
implementación, gestión o evaluación de políticas públicas.

Estadística descriptiva
-----------------------

En general, la importancia del análisis estadístico radica en la
**resolución de problemas vinculados con datos**, siendo la variabilidad
de los mísmos, quién guiará la importancia del empleo de diferentes
ténicas para el manejo de la información. Desde este punto de vista, se
explica en esta sección el método de implementación en <tt>R</tt> de
resúmenes de información, resumenes tabulares y gráficos para la
presentación de información de forma adecuada, para facilitar la toma de
decisiones.

Un aspecto importante a tener en cuenta al realizar análisis
estadísticos, es señalado por Esquivel ([2016](#ref-Esquivel2016), p.
29), el cual menciona que dentro de un análisis con información
estadística, se debe tener en cuenta las siguientes etapas:

1.  **Leer entre los datos**: que consiste en llevar a cabo una lectura
    literal de la información, sin interpretar su contenido).
2.  **Leer dentro de los datos**: implica no solamente interpretar los
    datos sino integrarlos dentro del contexto.
3.  **Leer más allá de los datos**: significa tomar los datos como
    referente para identificar patrones que transciendan el grupo de
    datos observado, ya sea mediante la interpolación o extrapolación de
    resultados.
4.  **Leer detrás de los datos**: consiste en llevar a cabo un análisis
    crítico de la información que se estudia, esto implica analizar
    integralmente el problema, desde su origen, el tipo de dato que se
    utiliza, su validez y fiabilidad para analizar el problema y la
    posibilidad de generalizar los hallazgos.

### Caso de estudio y variables

Como caso de estudio para esta sesión, se propone una base de datos
construida a partir del `$10\%$` de la información contenida en el Censo
de Edificaciones que posee el DANE para el periodo comprendido entre
2012-2018. Dicha base de datos puede ser descargada desde el siguiente
[Link](https://github.com/jiperezga/jiperezga.github.io/raw/master/Dataset/CesoEdificaciones2012-2018.csv){:target="\_blank"}.

Las variables contenidas en la base de datos anterior son:

-   **<tt>ANO\_CENSO</tt>:** Año al que corresponde la información
    recolectada en el Censo.
-   **<tt>TRIMESTRE</tt>:** Trimestre al que corresponde la información
    recolectada en el Censo.
-   **<tt>REGION</tt>:** Región de acuerdo con las áreas urbanas y
    metropolitanas en las cuales se realiza la publicación de la
    información.
    -   5 = Antioquia
    -   66 = Risaralda
    -   11 = Bogotá
    -   63 = Quindío
    -   76 = Valle
    -   54 = Norte de Santander
    -   50 = Meta
    -   8 = Atlántico
    -   41 = Huila
    -   68 = Santander
    -   13 = Bolívar
    -   52 = Nariño
    -   19 = Cauca
    -   73 = Tolima
    -   17 = Caldas
-   **<tt>OB\_FORMAL</tt>:** Define si la obra cuenta o no con licencia
    de construcción
    -   1 = Si
    -   2 = No
-   **<tt>ESTADO\_ACT</tt>:** El estado determina como se encontró la
    obra al momento del censo y se capta el código correspondiente.
    -   1 = Proceso
    -   2 = Paralizada con información completa
    -   3 = Culminada completa
    -   4 = Paralizada incompleta
    -   5 = Culminada con información incompleta
    -   6 = Demolida
-   **<tt>MOVIMIENTO</tt>:** El movimiento es el código de cambio de
    estado
    -   C = Continua
    -   I = Inactiva
    -   N = Nueva
    -   A = Ampliación cobertura
    -   R = Reinicia
    -   T = Culmina
    -   D = Demolida
-   **<tt>ESTRATO</tt>:** Clasificación dada por las empresas de
    servicios públicos. División numérica que caracteriza el entorno
    socio económico de un espacio geográfico y arquitectónico
    determinado
    -   1 = Bajo bajo
    -   2 = Bajo
    -   3 = Medio bajo
    -   4 = Medio
    -   5 = Medio Alto
    -   6 = Alto
-   **<tt>AREATOTZC</tt>:** Área total de zonas comunes cubiertas
    (incluido garaje y los depósitos o cuartos útiles como: portería,
    salones comunales, pasillos, etc.).
-   **<tt>AREAUNITGA</tt>:** Metros cuadrados de la unidad de garaje
    (cubiertos).
-   **<tt>PRECIOUNIG</tt>:** Valor de las unidades de garaje cubierto en
    miles de pesos.
-   **<tt>TIPOVALOR</tt>:** Tipo de valor de garaje cubierto
    -   1 = Real
    -   2 = Estimado
-   **<tt>MANO\_OBRAP</tt>:** Corresponde a la cantidad de mano de obra
    permanente generada en el período intercensal por tipo de mano de
    obra.
-   **<tt>MANO\_OBRAT</tt>:** Corresponde a la cantidad de mano de obra
    temporal generada en el período intercensal por tipo de mano de
    obra.
-   **<tt>AREA\_LOTE</tt>:** Corresponde al área del terreno donde se
    construye la obre o proyecto.
-   **<tt>AREAVENDIB</tt>:** Área total vendible (no incluye garaje y
    los depósitos o cuartos útiles).
-   **<tt>NRO\_PISOS</tt>:** Número de pisos del destino corresponde al
    número de pisos que conformarán cada destino que este en proceso de
    construcción.
-   **<tt>GRADOAVANC</tt>:** Grado de avance. Porcentaje de avance de
    obra del capítulo constructivo.
-   **<tt>PRECIOVTAX</tt>:** Precio de venta por M2 del destino, sin
    incluir garaje, en miles de pesos.
-   **<tt>AREAVENUNI</tt>:** Área total vendible por unidad (no incluye
    garaje y los depósitos o cuartos útiles).
-   **<tt>TIPOVIVI</tt>:** Tipo de vivienda hace referencia a si el
    destino es vivienda de interés social o no. Valor calculado
    -   1 = Vivienda de interés social
    -   2 = Vivienda diferente de VIS
-   **<tt>RANVIVI</tt>:** Rango de vivienda, valor calculado
    -   1 = SMLMV &lt; 50
    -   2 = 50 &lt; SMLMV ≤ 70
    -   3 = 70 &lt; SMLMV ≤ 100
    -   4 = 100 &lt; SMLMV ≤ 135
    -   5 = 135 &lt; SMLMV ≤ 350
    -   6 = SMLMV ≥ 350
-   **<tt>Destino2</tt>:** Identificación de la obra, según tipo o uso
    de la edificación, que se está construyendo.
    -   1 = Apartamento
    -   2 = Oficinas
    -   3 = Comercio
    -   4 = Casas
    -   5 = Bodegas
    -   6 = Destinos no comercializables (educación, hoteles, hospitales
        y centros de salud, administración pública y otros)

### Lectura de datos en <tt>R</tt>

Para realizar la lectura de datos en <tt>R</tt> es necesario conocer la
extensión que posee el archivo de interés, debido a que <tt>R</tt>
**posee diferentes librerías y funciones que permiten la lectura de
bases de datos**. En la siguiente tabla se resume el origen, la
extensión, la librería, y la función para cargar cada base de datos
dependiendo de su extensión.

<pre style="font-family: 'Open Sans',sans-serif; margin-bottom: -3rem; margin-top: -3rem; font-size: 120%;">
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Origen </th>
   <th style="text-align:left;"> Extensión </th>
   <th style="text-align:left;"> Librería </th>
   <th style="text-align:left;"> Función </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Texto </td>
   <td style="text-align:left;"> .txt </td>
   <td style="text-align:left;"> utils* </td>
   <td style="text-align:left;"> read.table() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Texto </td>
   <td style="text-align:left;"> .csv (comas) </td>
   <td style="text-align:left;"> utils* </td>
   <td style="text-align:left;"> read.csv() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Texto </td>
   <td style="text-align:left;"> .csv (punto y coma) </td>
   <td style="text-align:left;"> utils* </td>
   <td style="text-align:left;"> read.csv2() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Excel </td>
   <td style="text-align:left;"> .xls </td>
   <td style="text-align:left;"> readxl </td>
   <td style="text-align:left;"> read_xls() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Excel </td>
   <td style="text-align:left;"> .xlsx </td>
   <td style="text-align:left;"> readxl </td>
   <td style="text-align:left;"> read_xlsx() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> SPSS </td>
   <td style="text-align:left;"> .sav </td>
   <td style="text-align:left;"> foreign </td>
   <td style="text-align:left;"> read.spss() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> SAS </td>
   <td style="text-align:left;"> .sas7bdat </td>
   <td style="text-align:left;"> foreign </td>
   <td style="text-align:left;"> read.ssd() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> STATA </td>
   <td style="text-align:left;"> .dta </td>
   <td style="text-align:left;"> foreign </td>
   <td style="text-align:left;"> read.dta() </td>
  </tr>
</tbody>
</table>
</pre>

**Nota:** Las librerías con \* hacen referencia a funciones integradas
en <tt>R</tt>, y en consecuencia, no es necesario cargarlas antes de
usarlas.

A modo de ejemplo, suponga que se desea cargar una base de datos de
excel con extensión <tt>.xlsx</tt> **mediante la búsqueda del archivo en
el ordenador**. En este caso será necesario cargar la librería
<tt>readxl</tt> y posteriormente, cargar la base de datos mediante la
función <tt>read.xlsx()</tt> que sirve para cargar archivos con
extensión xlsx, y la función <tt>file.choose()</tt> que permite buscar
el archivo en el ordenador.

<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1">## Código de ejemplo NO CORRER</span><span class="w">
</span><span class="kc">library</span><span class="p">(</span><span class="n">readxl</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">read.xlsx</span><span class="p">(</span><span class="n">file.choose</span><span class="p">())</span><span class="w">
</span></code></pre>
</section>
</section>

Por otro lado, suponga que deseamos cargar una base de datos de STATA
con extensión <tt>.dta</tt> **de forma automática**. En este caso será
necesario cargar la librería <tt>foreign</tt> y posteriormente, cargar
la base de datos mediante la función <tt>read.dta()</tt>, estableciendo
la localización en donde se encuentra el archivo en el ordenador.

<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1">## Código de ejemplo NO CORRER</span><span class="w">
</span><span class="kc">library</span><span class="p">(</span><span class="n">foreign</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">read.dta</span><span class="p">(</span><span class="s2">"C:/Users/user/Desktop/datos.dta"</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>

Finalmente, suponga que se desea cargar una base de datos de Texto con
extensión <tt>.csv</tt>, la cual usa como separador de columnas el punto
y coma (;). En este caso será necesario descargar el archivo en una
locación temporal, mediante las funciones <tt>tempfile()</tt> y
<tt>download.file</tt>, y posteriormente, emplear la función
<tt>read.cvs2()</tt>, de la forma

<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1">## Código de ejemplo CORRER :D</span><span class="w">
</span><span class="n">temp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">tempfile</span><span class="p">(</span><span class="n">fileext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">".cvs"</span><span class="p">)</span><span class="w">  </span><span class="c1"># Crea archivo temporal</span><span class="w">
</span><span class="n">URL</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"https://raw.githubusercontent.com/jiperezga/jiperezga.github.io/master/Dataset/CesoEdificaciones2012-2018.csv"</span><span class="w">  </span><span class="c1"># URL base de datos</span><span class="w">
</span><span class="kc">download.file</span><span class="p">(</span><span class="n">URL</span><span class="p">,</span><span class="w"> </span><span class="n">destfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"wb"</span><span class="p">)</span><span class="w">  </span><span class="c1"># Descarga base de datos en el archivo temporal creado</span><span class="w">
</span><span class="n">datos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">read.csv2</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>

Limpieza de datos (datos sin procesar a datos tecnicamente correctos)
---------------------------------------------------------------------

La limpieza de los datos **es uno de los aspectos más importantes cuando
se desea trabajar con conjuntos de datos**, a tal punto que muchos
investigadores aseguran que en este procedimiento puede emplearse
regularmente desde el `$50\%$` hasta el `$80\%$` del tiempo total de una
investigación.

El objetivo principal de la limpieza de datos, es el **asegurar la
calidad de la información** que se usará en los análisis, además de
minimizar el riesgo en la toma de decisiones, en base a información
perdida, poco precisa, duplicada, contradictoria, errónea o incompleta,
ya qué ésta podría influir significativamente en los resultados
estadísticos y conclusiones.

Uno de los primeros procedimientos en la limpieza de datos, corresponde
en **transformar los datos sin procesar a datos tecnicamente
correctos**, y para ello es necesario corregir aquellos problemas que
pueden generarse en el momento de realizar la lectura de datos, que
pueden impedir o complicar la manipulación de la base de datos.

Dichos problemas están relacionados con, el hallazgo de carácteres
especiales, tipos o clases incorrectos para los conjuntos de datos,
datos faltantes, datos duplicados, entre otros.

### Corrección encabezados en <tt>R</tt>

En muchas ocasiones, podemos enfrentarnos a bases de datos que **poseen
problemas en el nombre de los encabezados**, asociados caracteres
especiales tales como <tt>! " \# $ % & ’ ( ) \* + , - . / : ; &lt; =
&gt; ? @ \[ \] ^ \_ \` { | } ~</tt>, o abuso de letras mayúsculas en los
encabezados, entre otros.

Por ello **es necesario luego de cargar la base de datos, verificar si
tales problemas existen para poder corregirlos de alguna manera**. A
pesar de que en nuestro caso, no hay problemas de carácteres especiales
poseemos el problema del abuso de letras mayúsculas en el nombre de las
variables, lo cual podría ser tedioso en la programación, debido a que
<tt>R</tt> diferencia entre carácteres en mayúscula y minúscula.

Con el fin de darle solución a dicho problema, es posible emplear la
función <tt>clean\_names()</tt> de la librería <tt>janitor</tt>, con el
fin de

-   Analizar las mayúsculas y minúsculas y separadores a un formato
    consistente.
-   Maneja caracteres y espacios especiales.
-   Agrega números a nombres duplicados.
-   Convierte “%” en “percent” y “\#” en “number” para conservar el
    significado de la variable.

<!-- -->

``` r
# Se observa el nombre de las variables
names(datos)
```

<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code> [1] "ANO_CENSO"  "TRIMESTRE"  "REGION"     "OB_FORMAL"  "ESTADO_ACT"
 [6] "MOVIMIENTO" "ESTRATO"    "AREATOTZC"  "AREAUNITGA" "PRECIOUNIG"
[11] "TIPOVALOR"  "MANO_OBRAP" "MANO_OBRAT" "AREA_LOTE"  "AREAVENDIB"
[16] "NRO_PISOS"  "GRADOAVANC" "PRECIOVTAX" "AREAVENUNI" "TIPOVIVI"  
[21] "RANVIVI"    "Destino2"  
</code></pre>
</section>
</section>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Elimina algunos carácteres especiales y abuso de mayúsculas</span><span class="w">
</span><span class="kc">library</span><span class="p">(</span><span class="n">janitor</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">clean_names</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span><span class="w">
</span><span class="nf">names</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>  [1] "ano_censo"  "trimestre"  "region"     "ob_formal"  "estado_act"
 [6] "movimiento" "estrato"    "areatotzc"  "areaunitga" "preciounig"
[11] "tipovalor"  "mano_obrap" "mano_obrat" "area_lote"  "areavendib"
[16] "nro_pisos"  "gradoavanc" "preciovtax" "areavenuni" "tipovivi"  
[21] "ranvivi"    "destino2"
</code></pre>
</section>
</section>

### Corrección contenido en <tt>R</tt>

Similar a los encabezados, puede ocurrir que se **encuentren problemas
en los valores contenidos dentro de cada variable**, a causa de
caracteres especiales o espacios, que puede generar que al transformar
las variables se creen categorías extras, o se pierdan datos numéricos.

Para dar solución a dicho problema, se pueden emplear en cojunto las
funciones <tt>lapply()</tt> y <tt>gsub()</tt> de la base de <tt>R</tt>,
para eliminar carácteres especiales y espacios dentro de la totalidad de
la base de datos. Posteriormente, se debe emplear la función
<tt>data.frame</tt> para que el conjunto de datos vuelva a tomar la
estructura de una base de datos. El código para realizar dicho
procedimiento se presenta a continuación.

<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Elimina carácteres especiales y espacios dentro de la base de datos</span><span class="w">
</span><span class="n">datos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">lapply</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="kc">gsub</span><span class="p">(</span><span class="s2">"[[:punct:]] | [[:blank:]]"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w">
</span></code></pre>
</section>
</section>

Tipos de datos
--------------

En términos generales, los datos son cualquier pieza de información
recolectada del fenómeno que se pretende analizar, y que, dependiendo de
las características que posean, deben clasificarse dentro de una
determinada categoría.

-   **Cuantitativos**: Son datos que pueden ser medidos o cuantificados.
    Estos se subdividen en dos categorías:
    -   **Datos cuantitativos discretos**: Son aquellos datos que
        provienen de procesos que involucran conteos, y por tanto, solo
        pueden tomar valores enteros. Por ejemplo: **Edad de una
        persona, número de estudiantes que perdieron un curso, cantidad
        de profesores que dictan Estadística I**
    -   **Datos cuantitativos continuos**: Son aquellos datos que
        provienen de procesos que involucran mediciones, y por tanto,
        solo pueden tomar cualquier valor real dentro de un intervalo.
        Por ejemplo: **Temperatura de congelación del agua, Tiempo que
        dura una clase, Utilidad diaria de un negocio.**
-   **Cualitativos**: Son datos asociados a una cualidad o propiedad, y
    por tanto, no pueden representarse numéricamente, a pesar de poder
    caracterizarse alfanúmericamente. Por ejemplo: **Estrato
    socioeconómico, tipo de animales en una granja, nivel de
    satisfacción con el método planteado para dictar el curso.**
-   **Lógicos**: Son datos asociados a valores de lógica binaria,
    usualmente denotados como Verdadero y Falso, o Éxito y Fracaso. Por
    ejemplo: **Tipo de Sexo, cara de una moneda, probar si un artículo
    es defectuoso.**

### Estructura de datos en <tt>R</tt>

**Para observar la estructura de los datos** en <tt>R</tt> puede
emplearse la función <tt>str()</tt>, la cual muestra la forma cómo está
siendo leída la información contenida en la base de datos por el
programa.

<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Estructura de los datos</span><span class="w">
</span><span class="kc">str</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>

    'data.frame':   88651 obs. of  22 variables:
     $ ano_censo : chr  "2014" "2016" "2012" "2015" ...
     $ trimestre : chr  "3" "4" "3" "4" ...
     $ region    : chr  "11" "8" "19" "68" ...
     $ ob_formal : chr  "1" "1" "2" "2" ...
     $ estado_act: chr  "2" "2" "2" "1" ...
     $ movimiento: chr  "C" "C" "C" "N" ...
     $ estrato   : chr  "2" "2" "3" "2" ...
     $ areatotzc : chr  "0" "0" "0" "16" ...
     $ areaunitga: chr  "0" "0" "0" "0" ...
     $ preciounig: chr  "0" "0" "0" "0" ...
     $ tipovalor : chr  "0" "0" "0" "0" ...
     $ mano_obrap: chr  "0" "0" "0" "0" ...
     $ mano_obrat: chr  "0" "0" "0" "2" ...
     $ area_lote : chr  "0" "0" "0" "0" ...
     $ areavendib: chr  "48" "70" "80" "115" ...
     $ nro_pisos : chr  "0" "0" "0" "1" ...
     $ gradoavanc: chr  "40" "20" "80" "40" ...
     $ preciovtax: chr  "600" "482" "800" "1250" ...
     $ areavenuni: chr  "48" "70" "80" "58" ...
     $ tipovivi  : chr  "1" "1" "1" "1" ...
     $ ranvivi   : chr  "1" "2" "4" "4" ...
     $ destino2  : chr  "4" "4" "4" "1" ...

Escala de medición
------------------

Las escalas o niveles de medición se utilizan para medir variables o
atributos que posea un conjunto de datos. A saber, las escalas de
medición se dividen en cuatro, **nominal, ordinal, intervalos y razón**.
Las dos primeras (nominal y ordinal) se conocen como escalas categóricas
usadas conmúnmente para variables cualitativas, mientras que las dos
últimas (intervalo y razón) se conocen como escalas numéricas, usadas
comúnmente para variables cuantitativas.

-   **Nominal**: Son aquellos factores que establecen etiquetas o
    categorías a los datos, sin estar sujetos a un orden específico. Por
    ejemplo: **Partido político, Comuna de residencia**
-   **Ordinal**: Son aquellos factores que establecen etiquetas o
    categorías a los datos, junto a una estructura jerárquica. Por
    ejemplo: **Nivel de una enfermedad, Grado de escolaridad**
-   **Intervalo**: Son aquellas mediciones cuantitativas que establecen
    la distancia entre una medida y otra, en términos de una unidad de
    medición fija, donde **el cero se selecciona de forma arbitraria y
    no indica ausencia del tributo**, ni indica conceptos como
    ‘ninguno’, ‘vacío’ o ‘nada’. Por ejemplo: **Unidades de medida en
    centígrados o Fahrenheit**
-   **Razón**: Son aquellas mediciones cuantitativas que establece la
    distancia exacta de una categoría debido a que **el cero es
    absoluto, no es arbritario, e indica ausencia del atributo**. Por
    ejemplo **Índice de masa corporal, Salario**

### Coerción de datos en <tt>R</tt>

Muchas veces cuando tenemos una variable, puede que esta no tenga
almacenados los datos bajo el tipo que queremos tenerlo realmente, por
ello, será necesario transformar (coercionar) cada variable, que permita
ajustar la variable a tipo deseado. En <tt>R</tt> existen funciones que
permiten redefinir una variable, para transformarlo al tipo que
necesitamos. Estás funciones son

-   **<tt>as.numeric()</tt>:** Convierte una variable a tipo numérico
    (double).
-   **<tt>as.logical()</tt>:** Convierte una variable a tipo lógico.
-   **<tt>as.integer()</tt>:** Convierte una variable a tipo entero.
-   **<tt>factor()</tt>:** Convierte una variable a tipo factor
    asumiendo o no un orden o jerarquía entre los niveles.
-   **<tt>as.character()</tt>:** Convierte una variable a tipo carácter
    (character).
-   **<tt>factor()</tt>:** Convierte una variable a tipo factor
    asumiendo o no un orden o jerarquía entre los niveles.

En nuestro caso, tenemos que todas las variables aparecen como si fuesen
variables de tipo carácter, debido al procedimiento de la corrección que
se hizo para eliminar carácteres especiales y espacios dentro de la base
de datos. En consecuencia, debemos transformar cada variable dependiendo
de su estructura y escala de medición.

En sí, tenemos que en primer lugar, las variables <tt>ANO\_CENSO,
TRIMESTRE, ESTRATO y RANVIVI</tt> son **variables cualitativas
ordinales** y por ello deben se transformadas a variables de tipo factor
ordinal. En segundo lugar, las variables <tt>REGION, OB\_FORMAL,
ESTADO\_ACT, MOVIMIENTO, TIPOVALOR, TIPOVIVI y Destino2</tt> son
**variables cualitativas nominales** y deben ser transformadas a
variables de tipo factor. Finalmente, las demás son **variables
cuantitativas de razón** que pueden trabajarse como variables de tipo
numéricas o enteros.

Para llevar a cabo la transformación, podemos emplear la función
<tt>factor()</tt> para realizar el cambio de las **variables
cualitativas ordinales**, la función <tt>factor()</tt> para realizar el
cambio de las **variables cualitativas nominales** y la función
<tt>as.numeric()</tt> para realizar el cambio de las variables a tipo
numérica.

<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Coerción de variable por variable</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">ano_censo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">ano_censo</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">trimestre</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">trimestre</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">region</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w"> </span><span class="m">13</span><span class="p">,</span><span class="w"> </span><span class="m">17</span><span class="p">,</span><span class="w"> </span><span class="m">19</span><span class="p">,</span><span class="w"> </span><span class="m">41</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> 
    </span><span class="m">52</span><span class="p">,</span><span class="w"> </span><span class="m">54</span><span class="p">,</span><span class="w"> </span><span class="m">63</span><span class="p">,</span><span class="w"> </span><span class="m">66</span><span class="p">,</span><span class="w"> </span><span class="m">68</span><span class="p">,</span><span class="w"> </span><span class="m">73</span><span class="p">,</span><span class="w"> </span><span class="m">76</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Antioquia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Atlántico"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Bogotá"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"Bolívar"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Caldas"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Cauca"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Huila"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Meta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Nariño"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Norte de Santander"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"Quindío"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Risaralda"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Santander"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tolima"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Valle"</span><span class="p">))</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">ob_formal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">ob_formal</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Sí"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"No"</span><span class="p">))</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">estado_act</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">estado_act</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Proceso"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"ParalizadaInfC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"CulminadaInfC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ParalizadaInfI"</span><span class="p">,</span><span class="w"> </span><span class="s2">"CulminadaInfI"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Demolida"</span><span class="p">))</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">movimiento</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">movimiento</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w"> </span><span class="s2">"I"</span><span class="p">,</span><span class="w"> </span><span class="s2">"N"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"R"</span><span class="p">,</span><span class="w"> </span><span class="s2">"T"</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Ampliación"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Continua"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Inactiva"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Nueva"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Reinicia"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"Culmina"</span><span class="p">))</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">estrato</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">estrato</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">areatotzc</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">areatotzc</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">areaunitga</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">areaunitga</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">preciounig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">preciounig</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">tipovalor</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">tipovalor</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"No responde"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"Real"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Estimado"</span><span class="p">))</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">mano_obrap</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">mano_obrap</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">mano_obrat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">mano_obrat</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">area_lote</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">area_lote</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">areavendib</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">areavendib</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">nro_pisos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">nro_pisos</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">gradoavanc</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">gradoavanc</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">preciovtax</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">preciovtax</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">areavenuni</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">areavenuni</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">tipovivi</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">tipovivi</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Social"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"No Social"</span><span class="p">))</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">ranvivi</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">ranvivi</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="n">datos</span><span class="o">$</span><span class="n">destino2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">factor</span><span class="p">(</span><span class="n">datos</span><span class="o">$</span><span class="n">destino2</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Apartamento"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"Oficina"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Comercio"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Casas"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Bodega"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Otros"</span><span class="p">))</span><span class="w">
</span><span class="c1"># Estructura de los datos</span><span class="w">
</span><span class="kc">str</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>

    'data.frame':   88651 obs. of  22 variables:
     $ ano_censo : Ord.factor w/ 7 levels "2012"<"2013"<..: 3 5 1 4 1 7 5 4 1 3 ...
     $ trimestre : Ord.factor w/ 4 levels "1"<"2"<"3"<"4": 3 4 3 4 3 2 3 1 2 1 ...
     $ region    : Factor w/ 15 levels "Antioquia","Atlántico",..: 3 2 6 13 3 15 3 11 3 15 ...
     $ ob_formal : Factor w/ 2 levels "Sí","No": 1 1 2 2 2 2 2 2 2 2 ...
     $ estado_act: Factor w/ 6 levels "Proceso","ParalizadaInfC",..: 2 2 2 1 1 2 2 2 1 4 ...
     $ movimiento: Factor w/ 6 levels "Ampliación","Continua",..: 2 2 2 4 4 2 2 3 2 2 ...
     $ estrato   : Ord.factor w/ 6 levels "1"<"2"<"3"<"4"<..: 2 2 3 2 2 1 1 4 4 3 ...
     $ areatotzc : num  0 0 0 16 0 0 0 0 0 0 ...
     $ areaunitga: num  0 0 0 0 0 0 0 0 0 0 ...
     $ preciounig: num  0 0 0 0 0 0 0 0 0 0 ...
     $ tipovalor : Factor w/ 3 levels "No responde",..: 1 1 1 1 1 1 1 1 1 1 ...
     $ mano_obrap: num  0 0 0 0 0 0 0 0 0 0 ...
     $ mano_obrat: num  0 0 0 2 1 0 0 0 2 0 ...
     $ area_lote : num  0 0 0 0 0 0 0 0 0 0 ...
     $ areavendib: num  48 70 80 115 60 55 144 311 2150 276 ...
     $ nro_pisos : num  0 0 0 1 1 1 2 0 2 0 ...
     $ gradoavanc: num  40 20 80 40 5 40 80 35 6 70 ...
     $ preciovtax: num  600 482 800 1250 390 436 580 1660 1200 530 ...
     $ areavenuni: num  48 70 80 58 60 55 144 311 179 276 ...
     $ tipovivi  : Factor w/ 2 levels "Social","No Social": 1 1 1 1 1 1 1 2 2 2 ...
     $ ranvivi   : Ord.factor w/ 6 levels "1"<"2"<"3"<"4"<..: 1 2 4 4 1 1 3 6 6 5 ...
     $ destino2  : Factor w/ 6 levels "Apartamento",..: 4 4 4 1 4 4 4 4 4 4 ...

Limpieza de datos (datos técnicamente correctos a datos consistentes)
---------------------------------------------------------------------

Una vez se logra que los datos se encuentren en un estado ténicamente
correcto, es necesario manipular la base de datos para llevarlos a un
estado consistente, es decir, a una **etapa en la que el conjunto de
observaciones están listos para la realización estadística descriptiva e
inferencial**. Este procedimiento consta en **solucionar problemas
relacionados con datos faltantes o datos duplicados**, que inflan la
totalidad de la información que se posea.

#### Remover filas o columnas vacías

Este procedimiento, **permite buscar y eliminar aquellas filas o
columnas que se encuentran totalmente vacías** y que pueden de alguna
manera inflar la totalidad de información que se posee en la base de
datos.

Para ello se emplea la función <tt>remove\_empty()</tt> de la librería
<tt>janitor</tt>.

``` r
# Muestra dimensión de filas y columnas antes de la eliminación
dim(datos)
```

    [1] 88651    22

``` r
# Elimina filas y columnas que poseen solo valores NA
datos <- remove_empty(datos, which = c("rows", "cols"))
# Muestra dimensión de filas y columnas despues de la eliminación
dim(datos)
```

    [1] 88350    22

#### Remover filas duplicadas

Este procedimiento **se emplea preferiblemente cuando se posee una
variable de identificación única**, tal como cédula o nit, que permita
comparar cada fila y eliminar solo aquellas que realmente se encuentren
duplicadas.

Para eliminar las filas que se encuentren duplicadas, es posible emplear
la función <tt>distinct()</tt> de la librería <tt>dplyr</tt>, de la
forma.

``` r
library(dplyr)
# Muestra dimensión de filas y columnas antes de la eliminación
dim(datos)
```

    [1] 88350    22

``` r
# Elimina filas que poseen registros duplicados
datos <- distinct(datos)
# Muestra dimensión de filas y columnas despues de la eliminación
dim(datos)
```

    [1] 87676    22

### Detección de datos faltantes

La detección de datos faltantes radica en localizar para cada variable,
si se encuentran casillas vacías, valores especiales, tales como
<code style="color: #ff628c!important">Na, NaN</code> o
<code style="color: #ff628c!important">NULL</code>.

-   **<code style="color: #ff628c!important">NA</code> (Not
    Available):** Es un carácter especial para indicar valores perdidos.
    Éstos pueden ser detectados en <tt>R</tt> mediante la función
    <tt>is.na()</tt>.
-   **<code style="color: #ff628c!important">NaN</code> (Not a
    number):** Es un carácter especial para datos de clase numérica,
    para indicar un valor asociado a un cálculo cuyo resultado es
    desconocido, el cual seguramente no es un número. Este puede
    obtenerse mediante operaciones tales como `$0/0$`, `$Inf/Inf$`,
    `$Inf-Inf$`. Éstos pueden ser detectados en <tt>R</tt> mediante la
    función <tt>is.nan()</tt>, aunque también son detectados por la
    función <tt>is.na()</tt>.
-   **<code style="color: #ff628c!important">NULL</code>:** Es un
    carácter especial para indicar valores indefinidos o indicar la no
    existencia de valor dentro de la base de datos o de una entrada de
    la misma. Éstos pueden ser detectados en <tt>R</tt> mediante la
    función <tt>is.null()</tt>.

Para detectar aquellas filas que se encuentren faltantes dentro de una
base de datos, podemos usar una combinación entre las funciones
<tt>apply()</tt>, <tt>which()</tt>, tal como se muestra en la siguiente
linea de código, adicionando las funciones <tt>is.na()</tt> e
<tt>is.null()</tt>, dentro de la función <tt>which()</tt>.

``` r
## Detectar NA, NaN y NULL dentro de la base de datos
faltantes <- apply(X = datos, MARGIN = 2, FUN = function(x) which(is.na(x) | 
    is.null(x) | x == "Na" | x == "NA" | x == "NaN"))  # se pueden agregar más caracteres
faltantes
```

    $ano_censo
    integer(0)

    $trimestre
    integer(0)

    $region
    integer(0)

    $ob_formal
    integer(0)

    $estado_act
    integer(0)

    $movimiento
    integer(0)

    $estrato
    integer(0)

    $areatotzc
    [1] 19121

    $areaunitga
    integer(0)

    $preciounig
    integer(0)

    $tipovalor
    integer(0)

    $mano_obrap
    [1] 46787 46978

    $mano_obrat
    [1] 19424

    $area_lote
    integer(0)

    $areavendib
    integer(0)

    $nro_pisos
    [1] 1134

    $gradoavanc
    integer(0)

    $preciovtax
    integer(0)

    $areavenuni
    integer(0)

    $tipovivi
    integer(0)

    $ranvivi
    integer(0)

    $destino2
    integer(0)

### Exportar datos

Una vez corregida la base de datos, es posible exportar la información
para emplearla posteriormente en <tt>R</tt> o en otros programas.
<tt>R</tt> **posee diferentes librerías y funciones que permiten
exportar bases de datos** dependiendo de la extensión de interés. En la
siguiente tabla se resume el origen, la extensión, la librería, y la
función para cargar cada base de datos dependiendo de su extensión.

<pre style="font-family: 'Open Sans',sans-serif; margin-bottom: -3rem; margin-top: -3rem; font-size: 120%;">
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Origen </th>
   <th style="text-align:left;"> Extensión </th>
   <th style="text-align:left;"> Librería </th>
   <th style="text-align:left;"> Función </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Texto </td>
   <td style="text-align:left;"> .txt </td>
   <td style="text-align:left;"> utils* </td>
   <td style="text-align:left;"> write.table() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Texto </td>
   <td style="text-align:left;"> .csv (comas) </td>
   <td style="text-align:left;"> utils* </td>
   <td style="text-align:left;"> write.csv() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Texto </td>
   <td style="text-align:left;"> .csv (punto y coma) </td>
   <td style="text-align:left;"> utils* </td>
   <td style="text-align:left;"> write.csv2() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Excel </td>
   <td style="text-align:left;"> .xlsx </td>
   <td style="text-align:left;"> openxlsx </td>
   <td style="text-align:left;"> write.xlsx() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> SPSS </td>
   <td style="text-align:left;"> .sav </td>
   <td style="text-align:left;"> foreign </td>
   <td style="text-align:left;"> write.foreign() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> SAS </td>
   <td style="text-align:left;"> .sas7bdat </td>
   <td style="text-align:left;"> foreign </td>
   <td style="text-align:left;"> write.foreign() </td>
  </tr>
  <tr>
   <td style="text-align:left;"> STATA </td>
   <td style="text-align:left;"> .dta </td>
   <td style="text-align:left;"> foreign </td>
   <td style="text-align:left;"> write.foreign() </td>
  </tr>
</tbody>
</table>
</pre>

Para mostrar el empleo de las funciones, suponga que queremos exportar
la base de datos

Referencias
-----------

<h7 id="ref-Recchioni2016"></h7>

Esquivel, E. (2016). La enseñanza de la estadı́stica y la probabilidad,
más allá de procedimientos y técnicas. *Cuadernos de Investigación Y
Formación En Educación Matemática*, 21–31.

Recchioni, L. (2016). Evaluación de las polı́ticas públicas: Relevancia
de la estadı́stica. *Oikonomos*, *1*.
